{
    "Logging": {
        "LogLevel": {
            "Default": "Information",
            "Log": "Trace",
            "Microsoft.AspNetCore": "Warning"
        }
    },
    "allowListedCertificate": {
        "allowListedDataPlaneSubjectNames": [
            "$config(gatewaySubjectName)"
        ],
        "allowListedControlPlaneSubjectNames": [
            "$config(rpSubjectName)"
        ],
        "allowListedIssuerNames": [
            "AME"
        ]
    },
    "apiServiceCertificateSet": {
        "commonKeyVaultUri": "https://$config(serviceShortName)-$config(pdg.environment.shortName)-$config(regionShortName)-kv.$config(keyVault.domainNameSuffix)",
        "refreshRate": "00:10:00"
    },
    "environment": {
        "environment": "$config(pdg.environment.name)",
        "location": "$config(regionName)",
        "permittedApiVersions": [
            "2023-10-01-preview"
        ]
    },
    "geneva": {
        "metricsAccount": "PurviewDataGovTest",
        "metricsNamespace": "ActiveGlossaryTest",
        "genevaServicesHost": "geneva-services",
        "genevaServicesPort": "8125",
        "defaultDimensions": {
            "Environment": "Dogfood",
            "RoleLocation": "westus2"
        }
    },
    "job": {
        "storageAccountName": "$config(serviceShortName)$config(pdg.environment.shortName)$config(regionShortName)jobs"
    },
    "service": {
        "apiServicePort": 80,
        "workerServicePort": 5001,
        "apiServiceReadinessProbePort": 8081,
        "workerServiceReadinessProbePort": 8082,
        "readinessProbePath": "/healthz/ready"
    },
    "powerBIAuth": {
        "Authority": "https://login.microsoftonline.com/$config(powerBiTenantId)",
        "AzureRegion": "$config(regionName)",
        "AzureEnvironment": "$config(azureEnvironment)",
        "ClientId": "$config(powerBiClientId)",
        "RenewBeforeExpiryInMinutes": 2,
        "CertificateName": "client-cert",
        "Resource": "https://analysis.windows.net/powerbi/api",
        "ClientUri": "https://api.powerbi.com",
        "Enabled": "$config(powerBiEnabled)"
    },
    "serverlessPoolAuth": {
        "Authority": "https://login.microsoftonline.com/$config(pdg.tenant.id)",
        "AzureRegion": "$config(regionName)",
        "AzureEnvironment": "$config(azureEnvironment)",
        "ClientId": "$config(purviewInsights3PClientId)",
        "RenewBeforeExpiryInMinutes": 2,
        "CertificateName": "client-cert",
        "Resource": "https://database.windows.net",
        "ClientUri": "https://dev.azuresynapse.net",
        "Enabled": "$config(serverlessPoolEnabled)"
    },
    "serverlessPool": {
        "DevelopmentEndpoint": "https://dghdogfoodsynapse.dev.azuresynapse.net",
        "SqlEndpoint": "dghdogfoodsynapse-ondemand.sql.azuresynapse.net",
        "Database": "dghdb",
        "StatisticsEnabled": true,
        "MinPoolSize": 5,
        "MaxPoolSize": 500,
        "storageAccount": "$config(serviceShortName)$config(pdg.environment.shortName)$config(regionShortName)synapsestorage"
    },
    "keyVault": {
        "Authority": "https://login.microsoftonline.com/$config(pdg.tenant.id)",
        "AzureRegion": "$config(regionName)",
        "AzureEnvironment": "$config(azureEnvironment)",
        "BaseUrl": "https://$config(serviceShortName)-$config(pdg.environment.shortName)-$config(regionShortName)-kv.$config(keyVault.domainNameSuffix)",
        "Resource": "https://vault.azure.net"
    },
    "auxStorage": {
        "Authority": "https://login.microsoftonline.com/$config(pdg.tenant.id)",
        "AzureRegion": "$config(regionName)",
        "AzureEnvironment": "$config(azureEnvironment)",
        "Resource": "https://management.azure.com",
        "BlobStorageResource": "https://storage.azure.com",
        "AccountName": "$config(serviceShortName)$config(pdg.environment.shortName)$config(regionShortName)jobs",
        "ResourceGroup": "$config(resourceGroupName)",
        "SubscriptionId": "$subscriptionId()",
        "EndpointSuffix": "core.windows.net"
    },
    "firstPartyAadApp": {
        "Authority": "https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd",
        "AzureEnvironment": "$config(azureEnvironment)",
        "AzureRegion": "$config(regionName)",
        "ClientId": "73c2949e-da2d-457a-9607-fcc665198967",
        "RenewBeforeExpiryInMinutes": 2,
        "CertificateName": "client-cert"
    },
    "dgprocessingStorage": {
        "storageAccountName": "dgprocessingwus2esraapo",
        "subscriptionId": "241c3620-bab4-4a7a-a4ef-0723aec0e10f",
        "resourceGroup": "dg-share-b9fjox",
        "region": "westus2"
    },
    "metadataService": {
        "certificateName": "client-cert",
        "endpoint": "https://westus2.rp.purview-service.azure-test.com",
        "apiVersion": "2019-11-01-preview"
    },
    "exposureControl": {
        "CertificateName": "client-cert",
        "Enabled": true,
        "EnvironmentName": "$config(exposureControlEnvironment)",
        "ClientId": "$config(purviewInsights3PClientId) ",
        "CacheRefreshIntervalInMinutes": 15,
        "LoggingLevel": "Warning",
        "UseEstsr": "$config(useEstsr)"
    },
    "partner": {
        "certificateName": "client-cert",
        "enabledPartners": "Catalog",
        "collection": "[{ 'name': 'Catalog', 'endpoint': 'https://$config(catalogServiceEndpoint)/controlplane/account', 'validateResponse': 'true', 'dependsOn':[]}]"
    },
    "processingStorageAuth": {
        "Authority": "https://login.microsoftonline.com/$config(pdg.tenant.id)",
        "AzureRegion": "$config(regionName)",
        "AzureEnvironment": "",
        "Resource": "https://management.azure.com"
    },
    "processingStorage": {
        "SubscriptionId": "$config(pdg.regionSharedInfrastructure.sharedSubscriptions.storage[0].id)",
        "ResourceGroupName": "purview-rg-internal-storage",
        "AzureRegion": "$config(regionName)",
        "StorageNamePrefix": "dgprocessing$config(shortLocation)"
    },
    "accountStorageTable": {
        "Authority": "https://login.microsoftonline.com/$config(pdg.tenant.id)",
        "AzureRegion": "$config(regionName)",
        "AzureEnvironment": "",
        "Resource": "https://management.azure.com",
        "TableName": "AccountStorageDetails",
        "TableServiceUri": "https://dghdfmwhjobs.table.core.windows.net"
    }
}
